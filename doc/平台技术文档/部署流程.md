
## 第三方定制 APP 部署流程
### 创建平台中的项目和产品   
* 注册并登录[腾讯云](https://cloud.tencent.com)。   

*  创建项目，选择**产品**-**物联网开发平台**，如图：   

<img src="https://main.qcloudimg.com/raw/d0aeaec991498f9decb8947309ee70d7/Picture1_Iot_Platform.png" alt="Picture1_Iot_Platform.png" style="zoom: 67%;" />        

* 选择**新建项目**：   

<img src="https://main.qcloudimg.com/raw/c2cbbbce573a1266819362cb1cc01f14/Picture2_Create_Project.png" alt="Picture2_Create_Project.png" width = "70%" height = "70%" />       

        
 填写项目信息：        

<img src="https://main.qcloudimg.com/raw/37ea897976300b65b696a978a75681c3/Picture3_Project_Infomation.png" alt="Picture3_Project_Infomation.png" width = "60%" height = "60%" />       


* 创建项目后，选择**新建产品**：   

<img src="https://main.qcloudimg.com/raw/34aa6958b7a541c41986e60a4ea59133/Picture4_Create_Product.png" alt="Picture4_Create_Product.png" width = "60%" height = "60%" />       


填写产品信息并保存：   

<img src="https://main.qcloudimg.com/raw/6cfb76c83187ccd15c95fa4dc4a8e540/Picture5_Product_Infomation.png" alt="Picture5_Product_Infomation.png" width = "50%" height = "50%" />      

* 产品开发流程：   

在平台上创建虚拟产品后，可从数据模板到批量生产流程，实现配置产品、测试、量产的流水线，如图：   

<img src="https://main.qcloudimg.com/raw/2757c418f38e9d8b941a6b7b62b843b7/Picture6_Iot_Product_Flow.png" alt="Picture6_Iot_Product_Flow.png" style="zoom: 33%;" />      

### 创建应用   
* 进入项目后，选中左侧的**应用开发**，选择**新建应用**，如图所示：    
  

 <img src="https://main.qcloudimg.com/raw/9f2b66a5135b98d2aaa88fab7e6cbc64/image-20200628235251.png" alt="image-20200628235251" style="zoom:67%;" />    

* 填写应用相关信息：   

  <img src="https://main.qcloudimg.com/raw/37d177276cbb1b53ad1a08a85aa94252/image-20200629000705.png" alt="image-20200629000705" style="zoom:67%;" />     

 *  创建应用成功后，点击已创建应用的名称，即可查看该应用的相关信息，以及不同平台的 APP Key 和 APP Secret，如图：   
    

  <img src="https://main.qcloudimg.com/raw/ee276a1abf86dac8f76dd90e540fcb0c/image-20200629001051.png" alt="image-20200629001051" style="zoom:67%;" />     


### APP 参数写入配置文件    

iOS 平台的配置文件 **（app-open-config.json）** 位于 **linkApp** 工程的 **AppConfig** 目录下。    

Android  平台的配置文件 **（app-config.json）** 位于 **iot-link-android** 工程的根目录下。   

请根据实际情况调整配置信息，配置文件内容如下：   

```json
{
  "WXAccessAppId": "",
  "TencentIotLinkAppkey": "请输入从物联网开发平台申请的 App key，正式发布前务必填写",
  "TencentIotLinkAppSecret": "请输入从物联网开发平台申请的 App Secret，App Secret 请保存在服务端，此处仅为演示，如有泄露概不负责",
  "XgAccessId": "",
  "XgAccessKey": "",
  "TencentMapSDKValue": "",
  "TencentIotLinkSDKDemoAppkey": ""
}
```

​	1、TencentIotLinkAppkey 和 TencentIotLinkAppSecret 请使用物联网平台申请的 APP Key 和 APP Secret。     

​	2、XgAccessId 和 XgAccessKey 请使用信鸽推送平台申请的 AccessID 和 AccessKey。   

​	3、WXAccessAppId 请使用微信开放平台申请的 AppID。    

​	4、TencentMapSDKValue 请使用腾讯地图开放平台申请的 key。     

### APP 绑定真实设备      

* 通过 SoftAP 配网方式（自助配网）绑定真实设备，操作步骤如下：  
 
1. 点击首页添加设备按钮，跳转到添加设备页面后，点击需要添加的硬件设备。   

2. APP 自动识别设备配网为 SoftAP 配网方式，如图：   

	<img src="https://main.qcloudimg.com/raw/99036b00c6d9e0338eb37b5dedd18473/Picture8_softAp1.png" alt="Picture8_softAp1.PNG" width = "35%" height = "35%" />       
	
3. 点击底部按钮后，连接 WiFi，输入 WiFi 名称和密码，如图：   

	<img src="https://main.qcloudimg.com/raw/2d83c93198a4a11070c41dba0264244b/Picture14_SmartCon2.png" alt="Picture9_softAp2.PNG" width = "35%" height = "35%" />           
	
4. 输入完后点击确认，连接设备热点，如图：   

	<img src="https://main.qcloudimg.com/raw/1a235edeac570d487d55d7eb36a2e0a8/Picture10_softAp3.png" alt="Picture10_softAp3.PNG" width = "35%" height = "35%" />      
    
5. 在【设置】中选择设备提供的热点，进行连接。    

6. 连接成功后，返回 APP，如图：   

	<img src="https://main.qcloudimg.com/raw/4fb3857c0e2c73fe6cf5cad1f521f800/Picture11_softAp4.png" alt="Picture11_softAp4.PNG" width = "35%" height = "35%" />           
	
7. 点击下一步开始连接，连接成功后，如图：   

	<img src="https://main.qcloudimg.com/raw/164bff8cbc739aa273da9768a70329d3/Picture12_softAp5.png" alt="Picture12_softAp5.PNG" width = "30%" height = "30%" />          
  
* 通过 SmartConfig 配网方式（智能配网）绑定真实设备，操作步骤如下：   
  
    **注意：在此配网方式下，目前只支持 WiFi 2.4GHZ。**   
    
 1. 点击首页添加设备按钮，跳转到添加设备页面后，点击需要添加的硬件设备。   
 
 2. APP 自动识别设备配网为 SmartConfig 配网方式，如图：   
 
    <img src="https://main.qcloudimg.com/raw/dc01c17f5224e0d0aa811f4465977bd3/Picture13_SmartCon1.png" alt="Picture13_SmartCon1.PNG" width = "35%" height = "35%" />   
       
 3. 点击底部按钮后，连接 WiFi，输入 WiFi 名称和密码，如图：    
 
    <img src="https://main.qcloudimg.com/raw/2d83c93198a4a11070c41dba0264244b/Picture14_SmartCon2.png" alt="Picture14_SmartCon2.PNG" width = "35%" height = "35%" />   
          
 4. 连接成功后，如图：   
 
    <img src="https://main.qcloudimg.com/raw/7f3a2e32cec7edc72966e08ce9f45083/Picture15_SmartCon3.png" alt="Picture15_SmartCon3.PNG" width = "30%" height = "30%" />      
    

 APP 通过上述方式绑定真实设备后，设备状态会自动上报至物联网平台；手机端通过与物联网平台维持的长连接，可以实现实时显示设备状态。   


​	




